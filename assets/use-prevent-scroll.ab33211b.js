import{d as h,ak as y,w as b,al as U,o as x,g as B,n as g,am as P}from"./index.9dafe3c6.js";function k(o,u,i){let t;function n(){t!==void 0&&(y.remove(t),t=void 0)}return h(()=>{o.value===!0&&n()}),{removeFromHistory:n,addToHistory(){t={condition:()=>i.value===!0,handler:u},y.add(t)}}}function A(){let o;return h(()=>{clearTimeout(o)}),{registerTimeout(u,i){clearTimeout(o),o=setTimeout(u,i)},removeTimeout(){clearTimeout(o)}}}const E={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},F=["before-show","show","before-hide","hide"];function j({showing:o,canShow:u,hideOnRouteChange:i,handleShow:t,handleHide:n,processOnMount:H}){const f=B(),{props:r,emit:l,proxy:c}=f;let a;function M(e){o.value===!0?d(e):m(e)}function m(e){if(r.disable===!0||e!==void 0&&e.qAnchorHandled===!0||u!==void 0&&u(e)!==!0)return;const s=r["onUpdate:modelValue"]!==void 0;s===!0&&(l("update:modelValue",!0),a=e,g(()=>{a===e&&(a=void 0)})),(r.modelValue===null||s===!1)&&p(e)}function p(e){o.value!==!0&&(o.value=!0,l("before-show",e),t!==void 0?t(e):l("show",e))}function d(e){if(r.disable===!0)return;const s=r["onUpdate:modelValue"]!==void 0;s===!0&&(l("update:modelValue",!1),a=e,g(()=>{a===e&&(a=void 0)})),(r.modelValue===null||s===!1)&&v(e)}function v(e){o.value!==!1&&(o.value=!1,l("before-hide",e),n!==void 0?n(e):l("hide",e))}function T(e){r.disable===!0&&e===!0?r["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):e===!0!==o.value&&(e===!0?p:v)(a)}b(()=>r.modelValue,T),i!==void 0&&U(f)===!0&&b(()=>c.$route.fullPath,()=>{i.value===!0&&o.value===!0&&d()}),H===!0&&x(()=>{T(r.modelValue)});const V={show:m,hide:d,toggle:M};return Object.assign(c,V),V}function q(){let o;return{preventBodyScroll(u){u!==o&&(o!==void 0||u===!0)&&(o=u,P(u))}}}export{F as a,A as b,j as c,k as d,q as e,E as u};
