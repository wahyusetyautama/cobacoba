import{Q as b,a as r,b as _}from"./QCard.c4fa545a.js";import{R as v,r as R,O as g,S as k,U as q,V as d,aO as U,W as x,an as N,a3 as p,X as t,av as Q,aP as h,Y as c,Z as I}from"./index.9dafe3c6.js";import{u as P}from"./use-meta.6e4b83a8.js";import{b as B,c as f,n as m}from"./function.626c708b.js";import"./use-form.473e5b63.js";const C={class:"absolute-center",style:{width:"350px"}},S=I(" e-Umum155 "),K=v({__name:"GuestReset",setup($){P({title:"Reset password",titleTemplate:a=>`${a} - e-Umum 155`,meta:{description:{name:"description",content:"Reset password akun e-umum155"},keywords:{name:"keywords",content:"Aplikasi e Umum 155"}}});const l=R(!1),n=U(),i=x();B().localStorage.getItem("auth")&&i.push("/dashboard");const u=n.query.NIP,e=g({email:n.query.email,token:n.query.token,password:null,password_confirmation:null});function w(){l.value=!0,f.get("/sanctum/csrf-cookie").then(()=>{f.post("/reset-password",e).then(a=>{m(a.data),l.value=!1,i.push("/")}).catch(a=>{m(a.response.data),l.value=!1})}).catch(a=>{m(a.response.data),l.value=!1})}function y(){e.password=null,e.password_confirmation=null}return(a,s)=>{const V=N("guest-layout");return k(),q(V,null,{default:d(()=>[p("div",C,[S,t(_,{flat:"",bordered:"",class:"q-pa-lg my-card"},{default:d(()=>[t(b,{onSubmit:w,onReset:y,class:"q-gutter-md"},{default:d(()=>[t(r,{filled:"",readonly:"",type:"email",modelValue:e.email,"onUpdate:modelValue":s[0]||(s[0]=o=>e.email=o),label:"Email"},null,8,["modelValue"]),t(r,{filled:"",readonly:"",type:"text",modelValue:Q(u),"onUpdate:modelValue":s[1]||(s[1]=o=>h(u)?u.value=o:null),label:"NIP"},null,8,["modelValue"]),t(r,{filled:"",type:"password",modelValue:e.password,"onUpdate:modelValue":s[2]||(s[2]=o=>e.password=o),label:"Password"},null,8,["modelValue"]),t(r,{filled:"",type:"password",modelValue:e.password_confirmation,"onUpdate:modelValue":s[3]||(s[3]=o=>e.password_confirmation=o),label:"Konfirmasi password"},null,8,["modelValue"]),p("div",null,[t(c,{label:"Reset password",type:"submit",loading:l.value,color:"primary",class:"q-mr-sm"},null,8,["loading"]),t(c,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1})]),_:1})])]),_:1})}}});export{K as default};
